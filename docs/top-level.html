<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Top Level</title>
    <style>
      body {
        display: flex;
        flex-direction: column;
        margin: 0;
        padding: 0;
        height: 100vh;
        width: 100vw;
        overflow-x: clip;
        overflow-y: auto;
      }
      div {
        display: flex;
        flex-direction: column;
      }

      .title {
        font-size: 225%;
        font-weight: bold;
        text-align: center;
        flex-shrink: 0;
      }
      .client-area {
        flex-grow: 1;
        flex-shrink: 1;
        border: 0.5em solid blue;
        border-radius: 1em;
        position: relative;
        margin: 1em;
      }
      .client-area div {
        column-gap: 2em;
        column-rule: #eee 0.4em dotted;
      }
      .ca1 {
        border: 0.5em solid cyan;
        border-radius: 1em;
        width: 100%;
        height: 100%;
        max-height: 100%;
        overflow-y: clip;
        overflow-x: scroll;
        box-sizing: border-box;
        display: block;
        position: absolute;
        column-count: 2;
      }
      .client-area ~ .client-area {
        overflow-x: scroll;
      }
      div.ca2 {
        border: 0.5em solid cyan;
        border-radius: 1em;
        width: fit-content;
        white-space: nowrap;
        height: 100%;
        max-height: 100%;
        overflow: visible;
        box-sizing: border-box;
        display: block;
        position: absolute;
        column-count: 1;
        column-rule: #eee 0.2em solid;
      }
      .column-sizer {
        border: 0.5em solid darkorange;
        border-radius: 1em;
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
      }
      .ca2 > * {
        white-space: normal;
      }
      .client-area p {
        font-size: 150%;
        text-align: justify;
      }
      .toolbar {
        border: 0.125em outset; /* By default this is 2 pixels, but it will scale with the text. */
        flex-shrink: 0;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-around;
      }
      .can-hide-border {
        transition: border-width 2s linear;
      }
      div.hide-border {
        border-width: 0;
      }
      @media (pointer: coarse) {
        input {
          height: 2em;
          width: 2em;
        }
      }
    </style>
    <script>
      function setColumns(c, selector) {
        document.querySelector(selector).style.columnCount = +c;
      }
    </script>
    
    <script type="module" crossorigin src="./assets/topLevel-8412d935.js"></script>
    <link rel="modulepreload" crossorigin href="./assets/modulepreload-polyfill-3cfb730f.js">
    <link rel="modulepreload" crossorigin href="./assets/client-misc-6b99d9da.js">
  </head>
  <body>
    <div class="title">Making Multiple Columns Scroll</div>
    <div class="client-area can-hide-border">
      <div class="ca1 can-hide-border">
        <p>
          This page shows how the css multiple column layout works. The focus is
          on testing and other technical details.
        </p>
        <p>
          <b>TL;DR</b>: This example scrolls left and right, and you can choose
          an integer number of columns to display at once.
        </p>
        <p>
          The <a href=".">index.html</a> file isn't quite working yet. It
          attempted to get scrolling working in the obvious way!
        </p>
        <p>
          This file is a quick and dirty way to get the scrolling working. This
          uses some css tricks to do things the way I want. When this technique
          is in better shape I'll try to package it a little better so I can use
          it in index.html and other places.
        </p>
        <p>
          The biggest problem is that a <code>&lt;div&gt;</code> can't be flex
          and use columns at the same time. I created one
          <code>&lt;div&gt;</code> inside another to make it work!
        </p>
        <p>
          This first example works pretty well. The one limitation is that the
          number of columns visible at once must always be an integer. If your
          container is 30em wide, and you ask for a <code>column-width</code> of
          9em or 11em, that will get rounded to 10em to give you exactly 3
          columns. (Actually a little less than 10em because of the internal
          margins.) The second example fixes that.
        </p>
        <p>
          Note: The default of an integer number of columns makes sense
          <i>if</i> you don't have a scroll bar.
        </p>
        <p>
          The
          <span
            style="
              background-color: blue;
              color: white;
              border-radius: 0.5em;
              padding: 0 0.35em;
            "
            >blue</span
          >
          and
          <span
            style="
              background-color: cyan;
              color: white;
              border-radius: 0.5em;
              padding: 0 0.35em;
            "
            >cyan</span
          >
          borders are temporary. These show the two different
          <code>&lt;div&gt;</code>'s. They will disappear before production.
        </p>
        <p>🅐 One two three four five six seven eight nine ten.</p>
        <p>🅑 One two three four five six seven eight nine ten.</p>
        <p>🅒 One two three four five six seven eight nine ten.</p>
        <p>🅓 One two three four five six seven eight nine ten.</p>
        <p>🅔 One two three four five six seven eight nine ten.</p>
        <p>🅕 One two three four five six seven eight nine ten.</p>
        <p>🅖 One two three four five six seven eight nine ten.</p>
        <p>🅗 One two three four five six seven eight nine ten.</p>
        <p>🅘 One two three four five six seven eight nine ten.</p>
        <p>🅙 One two three four five six seven eight nine ten.</p>
        <p>🅚 🅛 🅜 🅝 🅞 🅟 One two three four five six seven eight nine ten.</p>
        <p>🅛 🅜 🅝 🅞 🅟 One two three four five six seven eight nine ten.</p>
        <p>🅜 🅝 🅞 🅟 One two three four five six seven eight nine ten.</p>
        <p>🅝 🅞 🅟 One two three four five six seven eight nine ten.</p>
        <p>🅞 🅟 One two three four five six seven eight nine ten.</p>
        <p>🅟 One two three four five six seven eight nine ten.</p>
        <p>
          🅠 🅡 🅢 🅣 🅤 🅥 🅦 🅧 🅨 🅩 One two three four five six seven eight nine ten.
        </p>
        <p>
          🅡 🅢 🅣 🅤 🅥 🅦 🅧 🅨 🅩 One two three four five six seven eight nine ten.
        </p>
        <p>🅢 🅣 🅤 🅥 🅦 🅧 🅨 🅩 One two three four five six seven eight nine ten.</p>
        <p>🅣 🅤 🅥 🅦 🅧 🅨 🅩 One two three four five six seven eight nine ten.</p>
        <p>🅤 🅥 🅦 🅧 🅨 🅩 One two three four five six seven eight nine ten.</p>
        <p>🅥 🅦 🅧 🅨 🅩 One two three four five six seven eight nine ten.</p>
        <p>🅦 🅧 🅨 🅩 One two three four five six seven eight nine ten.</p>
        <p>🅧 🅨 🅩 One two three four five six seven eight nine ten.</p>
        <p>🅨 🅩 One two three four five six seven eight nine ten.</p>
        <p>🅩 One two three four five six seven eight nine ten.</p>
      </div>
    </div>
    <div class="toolbar">
      <button onclick="setColumns(1, '.ca1')">1 Column</button>
      <button onclick="setColumns(2, '.ca1')">2 Columns</button>
      <button onclick="setColumns(3, '.ca1')">3 Columns</button>
      <button onclick="setColumns(4, '.ca1')">4 Columns</button>
      <button onclick="setColumns(5, '.ca1')">5 Columns</button>
      <button onclick="setColumns(6, '.ca1')">6 Columns</button>
      <button onclick="setColumns(7, '.ca1')">7 Columns</button>
      <button onclick="setColumns(8, '.ca1')">8 Columns</button>
    </div>
    <div class="client-area can-hide-border">
      <div class="column-sizer can-hide-border" id="column-sizer">
        <div class="ca2 can-hide-border">
          <p>
            <b>TL;DR</b>: This example also scrolls left and right, but you can
            choose <i>any</i> column width you like.
          </p>
          <p>
            This example lets us change the column width to anything. The idea
            is to make the first column any width that is comfortable to the
            reader. Then fill the remaining space with additional columns, even
            if that includes partial columns.
          </p>
          <p>
            I added a third <code>&lt;div&gt;</code> <i>between</i>
            <code>.client-area</code> and <code>.ca2</code>. This
            <code>&lt;div&gt;</code> will be invisible, although it currently
            has an
            <span
              style="
                background-color: darkorange;
                color: white;
                border-radius: 0.5em;
                padding: 0 0.35em;
              "
              >orange</span
            >
            outline for debug reasons. This <code>&lt;div&gt;</code> is called
            <code>.column-sizer</code>, and will be the exact size we are
            requesting for one column.
          </p>
          <p>
            <input type="checkbox" checked id="showBorders" />
            <label for="showBorders">Show Borders</label>
            — Leave this checked to understand how everything works. Uncheck it
            to see what the end user will see.
          </p>
          <p>
            Notice that <code>.client-area</code>, the outermost
            <code>&lt;div&gt;</code>, clips its overflow, but the other two
            <code>&lt;div&gt;</code>s do not.
          </p>
          <p>
            Use the range control, below, to control the width of the columns.
          </p>
          <p>
            The range control is crude at best. It's perfect for this prototype,
            but we'll need something nicer for the end user. For one thing, you
            probably want the control to be attached to the text you are
            controlling. Think about changing the margins in MS Word or resizing
            or moving an image in PowerPoint. The control is right at the edge
            of what it's controlling.
          </p>
          <p>
            The range control always chooses an integer numbers of em's for no
            particular reason. You can set the width of the column based on any
            units or formulas that you would give to the <code>width</code> of a
            <code>&lt;div&gt;</code>.
          </p>
          <p>
            Also, notice the different values used for <code>column-rule</code>.
            This helps sometimes, especially when the columns are thin, and text
            justify is on, and there's more space between the words in a column
            than between the columns.
          </p>
          <p>
            <a
              href="https://github.com/TradeIdeasPhilip/readable-web-pages#readme"
              >More Info</a
            >
          </p>
          <p>🅐 One two three four five six seven eight nine ten.</p>
          <p>🅑 One two three four five six seven eight nine ten.</p>
          <p>🅒 One two three four five six seven eight nine ten.</p>
          <p>🅓 One two three four five six seven eight nine ten.</p>
          <p>🅔 One two three four five six seven eight nine ten.</p>
          <p>🅕 One two three four five six seven eight nine ten.</p>
          <p>🅖 One two three four five six seven eight nine ten.</p>
          <p>🅗 One two three four five six seven eight nine ten.</p>
          <p>🅘 One two three four five six seven eight nine ten.</p>
          <p>🅙 One two three four five six seven eight nine ten.</p>
          <p>🅚 🅛 🅜 🅝 🅞 🅟 One two three four five six seven eight nine ten.</p>
          <p>🅛 🅜 🅝 🅞 🅟 One two three four five six seven eight nine ten.</p>
          <p>🅜 🅝 🅞 🅟 One two three four five six seven eight nine ten.</p>
          <p>🅝 🅞 🅟 One two three four five six seven eight nine ten.</p>
          <p>🅞 🅟 One two three four five six seven eight nine ten.</p>
          <p>🅟 One two three four five six seven eight nine ten.</p>
          <p>
            🅠 🅡 🅢 🅣 🅤 🅥 🅦 🅧 🅨 🅩 One two three four five six seven eight nine
            ten.
          </p>
          <p>
            🅡 🅢 🅣 🅤 🅥 🅦 🅧 🅨 🅩 One two three four five six seven eight nine ten.
          </p>
          <p>
            🅢 🅣 🅤 🅥 🅦 🅧 🅨 🅩 One two three four five six seven eight nine ten.
          </p>
          <p>🅣 🅤 🅥 🅦 🅧 🅨 🅩 One two three four five six seven eight nine ten.</p>
          <p>🅤 🅥 🅦 🅧 🅨 🅩 One two three four five six seven eight nine ten.</p>
          <p>🅥 🅦 🅧 🅨 🅩 One two three four five six seven eight nine ten.</p>
          <p>🅦 🅧 🅨 🅩 One two three four five six seven eight nine ten.</p>
          <p>🅧 🅨 🅩 One two three four five six seven eight nine ten.</p>
          <p>🅨 🅩 One two three four five six seven eight nine ten.</p>
          <p>🅩 One two three four five six seven eight nine ten.</p>
        </div>
      </div>
    </div>
    <div class="toolbar">
      <input
        id="columnWidthInput"
        type="range"
        min="0"
        max="150"
        value="36"
        style="flex-grow: 1"
      />
      <div id="columnWidthDiv"></div>
    </div>
  </body>
</html>
